<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: lib/app.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: lib/app.js</h1>

    


    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>'use strict';

var _ = require('lodash');

/**
 * @namespace yo-utils.app
 * @borrows module:yo-utils/lib/app.nameSuffix as nameSuffix
 * @borrows module:yo-utils/lib/app.pluckOps as pluckOps
 * @borrows module:yo-utils/lib/app.promptWhen as promptWhen
 */

/**
 * App related utilities
 * @module yo-utils/lib/app
 */

/**
 * Return the properly cased app suffix according to options
 * @param  {Object} self - the generator
 * @return {String}      - the app's name
 */
module.exports.nameSuffix = function nameSuffix(self) {
  var counter = 0;
  var suffix = self.options['app-suffix'];
  // Have to check this because of generator bug #386
  process.argv.forEach(function(val) {
    if (val.indexOf('--app-suffix') > -1) {
      counter++;
    }
  });
  if (counter === 0 || (typeof suffix === 'boolean' &amp;&amp; suffix)) {
    suffix = 'App';
  }
  return suffix ? self._.classify(suffix) : '';
};

/**
 * Return a set of ops plucked from an options object
 * @param  {String|RegExp} prefix - the prefix to search on and strip
 * @param  {Object}        ops    - the options object to pluck from
 * @return {Object}               the plucked and stripped options
 */
module.exports.pluckOps = function pluckOps(prefix, ops) {
  return _.transform(ops, function(res, v, k) {
    if (k.match(prefix)) {
      res[k.replace(prefix, '')] = v;
    }
  });
};

/**
 * Return a variable when function that is bound to a generator's options
 * @param  {Object}   ops - the generator's options object
 * @return {Function}     the variable when function
 *                          when(option, [previousAnswer, ...])
 */
module.exports.promptWhen = function promptWhen(ops) {
  return function() {
    var args = Array.prototype.slice.call(arguments);
    var op = args.shift();
    var extras = true;
    return function(answers) {
      answers[op] = ops[op];
      if (args.length) {
        var whens = _.pick(answers, args);
        for (var k in whens) {
          if (!whens[k]) {
            extras = false;
            break;
          }
        }
      }
      return typeof answers[op] === 'undefined' &amp;&amp; extras;
    };
  };
};
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Modules</h3><ul><li><a href="module-yo-utils.html">yo-utils</a></li><li><a href="app.html">yo-utils/lib/app</a></li><li><a href="base_.html">yo-utils/lib/base</a></li><li><a href="templating.html">yo-utils/lib/templating</a></li></ul><h3>Classes</h3><ul><li><a href="Base.html">Base</a></li><li><a href="NamedBase.html">NamedBase</a></li><li><a href="base.Base.html">Base</a></li><li><a href="base.NamedBase.html">NamedBase</a></li><li><a href="UtilsBase.html">UtilsBase</a></li></ul><h3>Namespaces</h3><ul><li><a href="yo-utils.app.html">app</a></li><li><a href="yo-utils.templating.html">templating</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-alpha5</a> on Tue Oct 14 2014 03:58:17 GMT-0400 (EDT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
